{"version":3,"file":"scrollimation.js","sources":["../scrollimation.js"],"sourcesContent":["class ScrollimationWorker {\n\tconstructor() {\n\t\tconst instances = []\n\t\tthis.instances = instances\n\n\t\tconst requestAnimationFrame = ScrollimationWorker.requestAnimationFrame\n\t\tfunction frame() {\n\t\t\tinstances.forEach(instance => {\n\t\t\t\tif (instance.mode === 'requestAnimationFrame')\n\t\t\t\t\tinstance._handler()\n\t\t\t})\n\t\t\trequestAnimationFrame(frame)\n\t\t}\n\t\trequestAnimationFrame(frame)\n\t}\n\n\t/**\n\t * Add new animation instance to worker.\n\t * @param {Object} instance - Animation instance.\n\t */\n\taddInstance(instance) {\n\t\tconst handler = () => {\n\t\t\tif (instance.status === 'play') {\n\t\t\t\tconst scrollTop =\n\t\t\t\t\tinstance.scrollContainer === window\n\t\t\t\t\t\t? ScrollimationWorker.scrollTop\n\t\t\t\t\t\t: instance.scrollContainer.scrollTop\n\t\t\t\tconst scrollLeft =\n\t\t\t\t\tinstance.scrollContainer === window\n\t\t\t\t\t\t? ScrollimationWorker.scrollLeft\n\t\t\t\t\t\t: instance.scrollContainer.scrollLeft\n\t\t\t\tScrollimationWorker.animate(scrollTop, scrollLeft, instance)\n\t\t\t}\n\t\t}\n\n\t\tif (instance.fpsLimit)\n\t\t\tinstance._handler = ScrollimationWorker.Throttle(\n\t\t\t\thandler,\n\t\t\t\t1000 / instance.fpsLimit\n\t\t\t)\n\t\telse instance._handler = handler\n\n\t\tif (instance.mode === 'onscroll') {\n\t\t\tinstance.scrollContainer.addEventListener(\n\t\t\t\t'scroll',\n\t\t\t\tinstance._handler\n\t\t\t)\n\t\t}\n\n\t\tthis.instances.push(instance)\n\t}\n\n\t// Preparing to run user-defined function\n\tstatic animate(scrollTop, scrollLeft, state) {\n\t\tstate.scrollTop = scrollTop\n\t\tstate.scrollLeft = scrollLeft\n\t\tlet scrollPosition = state.direction === 'top' ? scrollTop : scrollLeft\n\n\t\tif (scrollPosition >= state.from && !state.startEmitted) {\n\t\t\tif (state.direction === 'top') {\n\t\t\t\tstate.scrollTop = state.from\n\t\t\t} else {\n\t\t\t\tstate.scrollLeft = state.from\n\t\t\t}\n\n\t\t\tstate.startEmitted = true\n\t\t\tstate.start(state)\n\t\t\tstate.step(state)\n\t\t} else if (scrollPosition <= state.from && state.startEmitted) {\n\t\t\tif (state.direction === 'top') {\n\t\t\t\tstate.scrollTop = state.from\n\t\t\t} else {\n\t\t\t\tstate.scrollLeft = state.from\n\t\t\t}\n\n\t\t\tstate.startEmitted = false\n\t\t\tstate.step(state)\n\t\t\tstate.reverseEnd(state)\n\t\t}\n\n\t\tif (scrollPosition >= state.to && !state.endEmitted) {\n\t\t\tif (state.direction === 'top') {\n\t\t\t\tstate.scrollTop = state.to\n\t\t\t} else {\n\t\t\t\tstate.scrollLeft = state.to\n\t\t\t}\n\n\t\t\tstate.endEmitted = true\n\t\t\tstate.step(state)\n\t\t\tstate.end(state)\n\t\t} else if (scrollPosition <= state.to && state.endEmitted) {\n\t\t\tif (state.direction === 'top') {\n\t\t\t\tstate.scrollTop = state.to\n\t\t\t} else {\n\t\t\t\tstate.scrollLeft = state.to\n\t\t\t}\n\n\t\t\tstate.endEmitted = false\n\t\t\tstate.reverseStart(state)\n\t\t\tstate.step(state)\n\t\t}\n\n\t\tif (scrollPosition > state.from && scrollPosition < state.to) {\n\t\t\tstate.step(state)\n\t\t}\n\t}\n\n\tstatic Throttle(func, ms) {\n\t\tvar isThrottled = false,\n\t\t\tsavedArgs,\n\t\t\tsavedThis\n\n\t\tfunction wrapper() {\n\t\t\tif (isThrottled) {\n\t\t\t\tsavedArgs = arguments\n\t\t\t\tsavedThis = this\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tfunc.apply(this, arguments)\n\n\t\t\tisThrottled = true\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tisThrottled = false\n\t\t\t\tif (savedArgs) {\n\t\t\t\t\twrapper.apply(savedThis, savedArgs)\n\t\t\t\t\tsavedArgs = savedThis = null\n\t\t\t\t}\n\t\t\t}, ms)\n\t\t}\n\n\t\treturn wrapper\n\t}\n\n\tstatic get requestAnimationFrame() {\n\t\treturn (\n\t\t\twindow.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.msRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\twindow.setTimeout(callback, 1000 / 60)\n\t\t\t}\n\t\t)\n\t}\n\n\tstatic get scrollTop() {\n\t\treturn (\n\t\t\twindow.pageYOffset ||\n\t\t\tdocument.documentElement.scrollTop ||\n\t\t\tdocument.body.scrollTop\n\t\t)\n\t}\n\n\tstatic get scrollLeft() {\n\t\treturn (\n\t\t\twindow.pageXOffset ||\n\t\t\tdocument.documentElement.scrollLeft ||\n\t\t\tdocument.body.scrollLeft\n\t\t)\n\t}\n}\n\nlet worker = new ScrollimationWorker()\n\nclass Scrollimation {\n\t/**\n\t * @param {Object} config\n\t * @param {HTMLElement|NodeList|Array|String|JQuery} [config.target] - Animation target.\n\t * @param {HTMLElement|String} [config.scrollContainer] - Scroll container (default: window).\n\t * @param {Number} config.from - Position where animation begin.\n\t * @param {Number} config.to - Position where animation end.\n\t * @param {String} [config.direction] - 'top' or 'left'.\n\t * @param {String|Function} [config.easing] - Easing function ('linear', 'easeInQuad', ...).\n\t * @param {String} [config.mode] - 'requestAnimationFrame' or 'onscroll'.\n\t * @param {String} [config.fpsLimit] - Limits the number of animation steps per second.\n\t * @param {Function} [config.init] - Initialize animation callback.\n\t * @param {Function} config.step - This function is executed every time you need to change the styles of an animated element.\n\t * @param {Function} [config.start] - Executed every time when scroll position is config.from.\n\t * @param {Function} [config.end] - Executed every time when scroll position is config.to.\n\t * @param {Function} [config.reverseStart] - Executed every time when scroll position is config.from.\n\t * @param {Function} [config.reverseEnd] - Executed every time when scroll position is config.to.\n\t */\n\tconstructor(config) {\n\t\tthis.id = Math.random()\n\t\t\t.toString(36)\n\t\t\t.substr(2, 9)\n\t\tthis.scrollContainer =\n\t\t\ttypeof config.scrollContainer === 'string'\n\t\t\t\t? document.querySelector(config.scrollContainer)\n\t\t\t\t: config.scrollContainer || window\n\t\tthis.from = config.from || 0\n\t\tthis.to = config.to || 0\n\t\tthis.direction = config.direction || 'top'\n\t\tthis.mode = config.mode || 'requestAnimationFrame'\n\t\tthis.fpsLimit = config.fpsLimit\n\t\tthis.init = config.init || (() => {})\n\t\tthis.step = config.step || (() => {})\n\t\tthis.start = config.start || (() => {})\n\t\tthis.end = config.end || (() => {})\n\t\tthis.reverseStart = config.reverseStart || (() => {})\n\t\tthis.reverseEnd = config.reverseEnd || (() => {})\n\t\tthis.startEmitted = false\n\t\tthis.endEmitted = false\n\n\t\tthis.target = window.NodeList.prototype.isPrototypeOf(config.target)\n\t\t\t? [].slice.call(config.target)\n\t\t\t: config.target\n\n\t\tthis.target = config.target\n\t\tif (window.NodeList.prototype.isPrototypeOf(config.target))\n\t\t\tthis.target = [].slice.call(config.target)\n\t\tif (\n\t\t\ttypeof config.target === 'string' ||\n\t\t\tconfig.target instanceof String\n\t\t)\n\t\t\tthis.target = [].slice.call(\n\t\t\t\tdocument.querySelectorAll(config.target)\n\t\t\t)\n\n\t\tthis.easing = config.easing || 'linear'\n\n\t\t// this.scrollContainer === window ?\n\t\tthis.scrollTop =\n\t\t\tthis.scrollContainer === window\n\t\t\t\t? ScrollimationWorker.scrollTop\n\t\t\t\t: this.scrollContainer.scrollTop\n\t\tthis.scrollLeft =\n\t\t\tthis.scrollContainer === window\n\t\t\t\t? ScrollimationWorker.scrollLeft\n\t\t\t\t: this.scrollContainer.scrollLeft\n\n\t\tthis.status = 'play'\n\n\t\tworker.addInstance(this)\n\n\t\tthis.init(this)\n\t}\n\n\t/**\n\t * Considers the value for the parameter depending on the scroll.\n\t * @param {Number|String} valueFrom - Use String for HEX colors.\n\t * @param {Number|String} valueTo - Use String for HEX colors.\n\t * @param {String|Function} [easing] - Easing function ('linear', 'easeInQuad', ...).\n\t * @returns {Number|String}\n\t */\n\tcalc(valueFrom, valueTo, easing = this.easing) {\n\t\tconst isHex = /(^#[0-9A-F]{3}$)|(^#[0-9A-F]{4}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i\n\t\tif (isHex.test(valueFrom) && isHex.test(valueTo)) {\n\t\t\tlet res = []\n\t\t\tlet resFrom = Scrollimation.HexToNums(valueFrom)\n\t\t\tlet resTo = Scrollimation.HexToNums(valueTo)\n\n\t\t\tresFrom.forEach((val, i) => {\n\t\t\t\tres.push(\n\t\t\t\t\tScrollimation.Calculate(\n\t\t\t\t\t\tthis.direction === 'top'\n\t\t\t\t\t\t\t? this.scrollTop\n\t\t\t\t\t\t\t: this.scrollLeft,\n\t\t\t\t\t\tthis.from,\n\t\t\t\t\t\tthis.to,\n\t\t\t\t\t\tval,\n\t\t\t\t\t\tresTo[i],\n\t\t\t\t\t\ttypeof this.easing === 'function'\n\t\t\t\t\t\t\t? this.easing\n\t\t\t\t\t\t\t: Scrollimation.Easing[this.easing] ||\n\t\t\t\t\t\t\t\t\tScrollimation.Easing.linear\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t})\n\n\t\t\treturn `rgba(${res[0]}, ${res[1]}, ${res[2]}, ${res[3]})`\n\t\t}\n\n\t\treturn Scrollimation.Calculate(\n\t\t\tthis.direction === 'top' ? this.scrollTop : this.scrollLeft,\n\t\t\tthis.from,\n\t\t\tthis.to,\n\t\t\tvalueFrom,\n\t\t\tvalueTo,\n\t\t\ttypeof this.easing === 'function'\n\t\t\t\t? this.easing\n\t\t\t\t: Scrollimation.Easing[this.easing] ||\n\t\t\t\t\t\tScrollimation.Easing.linear\n\t\t)\n\t}\n\n\t// Stop animation\n\tstop() {\n\t\tthis.status = 'pause'\n\t}\n\n\t// Play animation\n\tplay() {\n\t\tthis.status = 'play'\n\t}\n\n\t// Remove instance\n\tremove() {\n\t\tthis.status = 'pause'\n\t\tworker.instances.filter(instance => instance.id !== this.id)\n\t}\n\n\t/*\n\t * Easing Functions - inspired from http://gizma.com/easing/\n\t * only considering the t value for the range [0, 1] => [0, 1]\n\t */\n\tstatic get Easing() {\n\t\treturn {\n\t\t\t// no easing, no acceleration\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t\n\t\t\t},\n\t\t\t// accelerating from zero velocity\n\t\t\teaseInQuad: function(t) {\n\t\t\t\treturn t * t\n\t\t\t},\n\t\t\t// decelerating to zero velocity\n\t\t\teaseOutQuad: function(t) {\n\t\t\t\treturn t * (2 - t)\n\t\t\t},\n\t\t\t// acceleration until halfway, then deceleration\n\t\t\teaseInOutQuad: function(t) {\n\t\t\t\treturn t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t\n\t\t\t},\n\t\t\t// accelerating from zero velocity\n\t\t\teaseInCubic: function(t) {\n\t\t\t\treturn t * t * t\n\t\t\t},\n\t\t\t// decelerating to zero velocity\n\t\t\teaseOutCubic: function(t) {\n\t\t\t\treturn --t * t * t + 1\n\t\t\t},\n\t\t\t// acceleration until halfway, then deceleration\n\t\t\teaseInOutCubic: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 4 * t * t * t\n\t\t\t\t\t: (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\n\t\t\t},\n\t\t\t// accelerating from zero velocity\n\t\t\teaseInQuart: function(t) {\n\t\t\t\treturn t * t * t * t\n\t\t\t},\n\t\t\t// decelerating to zero velocity\n\t\t\teaseOutQuart: function(t) {\n\t\t\t\t/*jshint -W006 */\n\t\t\t\treturn 1 - --t * t * t * t\n\t\t\t},\n\t\t\t// acceleration until halfway, then deceleration\n\t\t\teaseInOutQuart: function(t) {\n\t\t\t\treturn t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t\n\t\t\t},\n\t\t\t// accelerating from zero velocity\n\t\t\teaseInQuint: function(t) {\n\t\t\t\treturn t * t * t * t * t\n\t\t\t},\n\t\t\t// decelerating to zero velocity\n\t\t\teaseOutQuint: function(t) {\n\t\t\t\treturn 1 + --t * t * t * t * t\n\t\t\t},\n\t\t\t// acceleration until halfway, then deceleration\n\t\t\teaseInOutQuint: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 16 * t * t * t * t * t\n\t\t\t\t\t: 1 + 16 * --t * t * t * t * t\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic Calculate(\n\t\tscroll = 0,\n\t\tscrollFrom = 0,\n\t\tscrollTo = 0,\n\t\tvalueFrom = 0,\n\t\tvalueTo = 0,\n\t\teasing = t => t\n\t) {\n\t\tscroll = scroll < scrollFrom ? scrollFrom : scroll\n\t\tscroll = scroll > scrollTo ? scrollTo : scroll\n\n\t\treturn (\n\t\t\tvalueFrom +\n\t\t\t(valueTo - valueFrom) *\n\t\t\t\teasing((scroll - scrollFrom) / (scrollTo - scrollFrom))\n\t\t)\n\t}\n\n\tstatic HexToNums(hex) {\n\t\tlet res\n\n\t\tif (hex.length === 4) {\n\t\t\tlet r = hex.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i)\n\t\t\tres = r.slice(1, 4).map(function(x) {\n\t\t\t\treturn 0x11 * parseInt(x, 16)\n\t\t\t})\n\t\t} else if (hex.length === 5) {\n\t\t\tlet r = hex.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])$/i)\n\t\t\tres = r.slice(1, 5).map(function(x) {\n\t\t\t\treturn 0x11 * parseInt(x, 16)\n\t\t\t})\n\t\t} else if (hex.length === 7) {\n\t\t\tlet r = hex.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i)\n\t\t\tres = r.slice(1, 4).map(function(x) {\n\t\t\t\treturn parseInt(x, 16)\n\t\t\t})\n\t\t} else if (hex.length === 9) {\n\t\t\tlet r = hex.match(\n\t\t\t\t/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i\n\t\t\t)\n\t\t\tres = r.slice(1, 5).map(function(x) {\n\t\t\t\treturn parseInt(x, 16)\n\t\t\t})\n\t\t}\n\n\t\tres[3] = res[3] / 255 || 1\n\n\t\treturn res\n\t}\n}\n\n/**\n * @param {Object} config\n * @returns {Object} instance\n */\nexport default config => new Scrollimation(config)\n\n// Run library as jQuery plugin if available\nif (typeof jQuery !== 'undefined' || typeof $ !== 'undefined') {\n\tlet _$ = typeof jQuery !== 'undefined' ? jQuery : $\n\n\t_$.fn.scrollimation = function(config) {\n\t\tconfig.target = this\n\t\treturn new Scrollimation(config)\n\t}\n}\n"],"names":["ScrollimationWorker","instances","requestAnimationFrame","frame","forEach","instance","mode","_handler","handler","status","scrollTop","scrollContainer","window","scrollLeft","animate","fpsLimit","Throttle","addEventListener","push","state","scrollPosition","direction","from","startEmitted","start","step","reverseEnd","to","endEmitted","end","reverseStart","func","ms","savedArgs","savedThis","isThrottled","wrapper","arguments","this","apply","setTimeout","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","callback","pageYOffset","document","documentElement","body","pageXOffset","worker","Scrollimation","config","id","Math","random","toString","substr","querySelector","init","target","NodeList","prototype","isPrototypeOf","slice","call","String","querySelectorAll","easing","addInstance","valueFrom","valueTo","isHex","test","res","resFrom","HexToNums","resTo","val","i","Calculate","_this","Easing","linear","filter","_this2","scroll","scrollFrom","scrollTo","t","hex","length","match","map","x","parseInt","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","jQuery","$","fn","scrollimation"],"mappings":"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"}