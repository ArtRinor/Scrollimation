{"version":3,"file":"scrollimation.min.js","sources":["../src/scrollimation.ts"],"sourcesContent":["class ScrollimationWorker {\n  private static instances: Scrollimation[] = [];\n\n  public static run() {\n    ScrollimationWorker.instances.forEach((instance: Scrollimation) => {\n      if (instance.mode === \"requestAnimationFrame\") instance._handler();\n    });\n\n    window.requestAnimationFrame(ScrollimationWorker.run);\n  }\n\n  public static addInstance(instance: Scrollimation) {\n    const handler = (forcedRun: boolean = false) => {\n      if (instance.status === \"play\" || forcedRun) {\n        const scrollTop =\n          instance.scrollContainer instanceof window.Element\n            ? instance.scrollContainer.scrollTop\n            : ScrollimationWorker.scrollTop;\n        const scrollLeft =\n          instance.scrollContainer instanceof window.Element\n            ? instance.scrollContainer.scrollLeft\n            : ScrollimationWorker.scrollLeft;\n\n        ScrollimationWorker.animate(scrollTop, scrollLeft, instance, forcedRun);\n      }\n    };\n\n    if (instance.fpsLimit) {\n      instance._handler = ScrollimationWorker.Throttle(\n        handler,\n        1000 / instance.fpsLimit\n      );\n    } else instance._handler = handler;\n\n    if (instance.mode === \"onscroll\") {\n      instance.scrollContainer.addEventListener(\n        \"scroll\",\n        instance._handler as EventListenerOrEventListenerObject\n      );\n    }\n\n    ScrollimationWorker.instances.push(instance);\n\n    // Draw initial state\n    handler(true);\n  }\n\n  public static removeInstance(instance: Scrollimation) {\n    ScrollimationWorker.instances = ScrollimationWorker.instances.filter(\n      (_instance: Scrollimation) => _instance.id !== instance.id\n    );\n  }\n\n  public static animate(\n    scrollTop: number,\n    scrollLeft: number,\n    state: Scrollimation,\n    forcedRun: boolean = false\n  ) {\n    state.scrollTop = scrollTop;\n    state.scrollLeft = scrollLeft;\n    let scrollPosition = state.direction === \"top\" ? scrollTop : scrollLeft;\n\n    if (scrollPosition >= state.from && !state.startEmitted) {\n      if (state.direction === \"top\") {\n        state.scrollTop = state.from;\n      } else {\n        state.scrollLeft = state.from;\n      }\n\n      state.startEmitted = true;\n      state.start(state);\n      state.step(state);\n    } else if (scrollPosition <= state.from && state.startEmitted) {\n      if (state.direction === \"top\") {\n        state.scrollTop = state.from;\n      } else {\n        state.scrollLeft = state.from;\n      }\n\n      state.startEmitted = false;\n      state.step(state);\n      state.reverseEnd(state);\n    }\n\n    if (scrollPosition >= state.to && !state.endEmitted) {\n      if (state.direction === \"top\") {\n        state.scrollTop = state.to;\n      } else {\n        state.scrollLeft = state.to;\n      }\n\n      state.endEmitted = true;\n      state.step(state);\n      state.end(state);\n    } else if (scrollPosition <= state.to && state.endEmitted) {\n      if (state.direction === \"top\") {\n        state.scrollTop = state.to;\n      } else {\n        state.scrollLeft = state.to;\n      }\n\n      state.endEmitted = false;\n      state.reverseStart(state);\n      state.step(state);\n    }\n\n    if (\n      (scrollPosition > state.from && scrollPosition < state.to) ||\n      forcedRun\n    ) {\n      state.step(state);\n    }\n  }\n\n  private static Throttle(func: Function, ms: number) {\n    let isThrottled = false;\n    let savedArgs: IArguments;\n    let savedThis: any;\n\n    function wrapper(this: any) {\n      if (isThrottled) {\n        savedArgs = arguments;\n        savedThis = this;\n        return;\n      }\n\n      func.apply(this, arguments);\n\n      isThrottled = true;\n\n      setTimeout(function () {\n        isThrottled = false;\n        if (savedArgs) {\n          wrapper.apply(savedThis, savedArgs);\n          savedArgs = savedThis = null;\n        }\n      }, ms);\n    }\n\n    return wrapper;\n  }\n\n  public static get scrollTop() {\n    return (\n      window.pageYOffset ||\n      document.documentElement.scrollTop ||\n      document.body.scrollTop\n    );\n  }\n\n  public static get scrollLeft() {\n    return (\n      window.pageXOffset ||\n      document.documentElement.scrollLeft ||\n      document.body.scrollLeft\n    );\n  }\n}\n\nScrollimationWorker.run();\n\ninterface ScrollimationConfig {\n  /** Animation target. */\n  target?: HTMLElement | NodeList | Array<HTMLElement> | string;\n  /** Scroll container (default: window).*/\n  scrollContainer?: HTMLElement | string;\n  /** Position where animation begin. */\n  from: number;\n  /** Position where animation end. */\n  to: number;\n  direction?: \"top\" | \"left\";\n  /** Easing function ('linear', 'easeInQuad', ...). */\n  easing?:\n    | \"linear\"\n    | \"easeInQuad\"\n    | \"easeOutQuad\"\n    | \"easeInOutQuad\"\n    | \"easeInCubic\"\n    | \"easeOutCubic\"\n    | \"easeInOutCubic\"\n    | \"easeInQuart\"\n    | \"easeOutQuart\"\n    | \"easeInOutQuart\"\n    | \"easeInQuint\"\n    | \"easeOutQuint\"\n    | \"easeInOutQuint\"\n    | Function;\n  mode?: \"requestAnimationFrame\" | \"onscroll\";\n  /** Limits the number of animation steps per second. */\n  fpsLimit?: number;\n  /** Initialize animation callback. */\n  init?: Function;\n  /** This function is executed every time you need to change the styles of an animated element. */\n  step?: Function;\n  /** Executed every time when scroll position is config.from. */\n  start?: Function;\n  /** Executed every time when scroll position is config.to. */\n  end?: Function;\n  /** Executed every time when scroll position is config.from. */\n  reverseStart?: Function;\n  /** Executed every time when scroll position is config.to. */\n  reverseEnd?: Function;\n}\n\nexport default class Scrollimation {\n  public id: string;\n  /** Animation target. */\n  public target: HTMLElement | Array<HTMLElement>;\n  /** Scroll container (default: window).*/\n  public scrollContainer: Element | Window;\n  /** Position where animation begin. */\n  public from: number;\n  /** Position where animation end. */\n  public to: number;\n  public direction: \"top\" | \"left\";\n  /** Easing function ('linear', 'easeInQuad', ...). */\n  public easing: string | Function;\n  public mode: \"requestAnimationFrame\" | \"onscroll\";\n  /** Limits the number of animation steps per second. */\n  public fpsLimit?: number;\n  /** Initialize animation callback. */\n  public init: Function;\n  /** This function is executed every time you need to change the styles of an animated element. */\n  public step: Function;\n  /** Executed every time when scroll position is config.from. */\n  public start: Function;\n  /** Executed every time when scroll position is config.to. */\n  public end: Function;\n  /** Executed every time when scroll position is config.from. */\n  public reverseStart: Function;\n  /** Executed every time when scroll position is config.to. */\n  public reverseEnd: Function;\n  public startEmitted: boolean;\n  public endEmitted: boolean;\n  public scrollTop: number;\n  public scrollLeft: number;\n  public status: \"play\" | \"pause\";\n  public _handler: Function;\n\n  constructor(config: ScrollimationConfig) {\n    this.id = Math.random().toString(36).substr(2, 9);\n    this.scrollContainer =\n      typeof config.scrollContainer === \"string\"\n        ? (document.querySelector(config.scrollContainer) as Element)\n        : config.scrollContainer || window;\n    this.from = config.from || 0;\n    this.to = config.to || 0;\n    this.direction = config.direction || \"top\";\n    this.mode = config.mode || \"requestAnimationFrame\";\n    this.fpsLimit = config.fpsLimit;\n    this.init = config.init || (() => {});\n    this.step = config.step || (() => {});\n    this.start = config.start || (() => {});\n    this.end = config.end || (() => {});\n    this.reverseStart = config.reverseStart || (() => {});\n    this.reverseEnd = config.reverseEnd || (() => {});\n    this.startEmitted = false;\n    this.endEmitted = false;\n\n    if (config.target instanceof window.NodeList)\n      this.target = [].slice.call(config.target);\n    else if (typeof config.target === \"string\")\n      this.target = [].slice.call(document.querySelectorAll(config.target));\n    else this.target = config.target;\n\n    this.easing = config.easing || \"linear\";\n\n    this.scrollTop =\n      this.scrollContainer instanceof window.Element\n        ? this.scrollContainer.scrollTop\n        : ScrollimationWorker.scrollTop;\n    this.scrollLeft =\n      this.scrollContainer instanceof window.Element\n        ? this.scrollContainer.scrollLeft\n        : ScrollimationWorker.scrollLeft;\n\n    this.status = \"play\";\n\n    ScrollimationWorker.addInstance(this);\n\n    this.init(this);\n  }\n\n  /**\n   * Considers the value for the parameter depending on the scroll.\n   * @param valueFrom - Use String for HEX colors.\n   * @param valueTo - Use String for HEX colors.\n   * @param easing - Easing function ('linear', 'easeInQuad', ...).\n   */\n  public calc(\n    valueFrom: number | string,\n    valueTo: number | string,\n    easing: string | Function = this.easing\n  ): number | string {\n    const isHex = /(^#[0-9A-F]{3}$)|(^#[0-9A-F]{4}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i;\n    if (\n      typeof valueFrom === \"string\" &&\n      isHex.test(valueFrom) &&\n      typeof valueTo === \"string\" &&\n      isHex.test(valueTo)\n    ) {\n      let res: any = [];\n      let resFrom = Scrollimation.HexToNums(valueFrom);\n      let resTo = Scrollimation.HexToNums(valueTo);\n\n      resFrom.forEach((val: any, i: any) => {\n        res.push(\n          Scrollimation.Calculate(\n            this.direction === \"top\" ? this.scrollTop : this.scrollLeft,\n            this.from,\n            this.to,\n            val,\n            resTo[i],\n            typeof easing === \"function\"\n              ? easing\n              : Scrollimation.Easing[easing] || Scrollimation.Easing.linear\n          )\n        );\n      });\n\n      return `rgba(${res[0]}, ${res[1]}, ${res[2]}, ${res[3]})`;\n    }\n\n    return Scrollimation.Calculate(\n      this.direction === \"top\" ? this.scrollTop : this.scrollLeft,\n      this.from,\n      this.to,\n      +valueFrom,\n      +valueTo,\n      typeof easing === \"function\"\n        ? easing\n        : Scrollimation.Easing[easing] || Scrollimation.Easing.linear\n    );\n  }\n\n  // Stop animation\n  public stop() {\n    this.status = \"pause\";\n  }\n\n  // Play animation\n  public play() {\n    this.status = \"play\";\n  }\n\n  // Remove instance\n  public remove() {\n    this.status = \"pause\";\n\n    if (this.mode === \"onscroll\") {\n      this.scrollContainer.removeEventListener(\n        \"scroll\",\n        this._handler as EventListenerOrEventListenerObject\n      );\n    }\n\n    ScrollimationWorker.removeInstance(this);\n  }\n\n  /*\n   * Easing Functions - inspired from http://gizma.com/easing/\n   * only considering the t value for the range [0, 1] => [0, 1]\n   */\n  private static get Easing() {\n    return {\n      // no easing, no acceleration\n      linear: function (t: number) {\n        return t;\n      },\n      // accelerating from zero velocity\n      easeInQuad: function (t: number) {\n        return t * t;\n      },\n      // decelerating to zero velocity\n      easeOutQuad: function (t: number) {\n        return t * (2 - t);\n      },\n      // acceleration until halfway, then deceleration\n      easeInOutQuad: function (t: number) {\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n      },\n      // accelerating from zero velocity\n      easeInCubic: function (t: number) {\n        return t * t * t;\n      },\n      // decelerating to zero velocity\n      easeOutCubic: function (t: number) {\n        return --t * t * t + 1;\n      },\n      // acceleration until halfway, then deceleration\n      easeInOutCubic: function (t: number) {\n        return t < 0.5\n          ? 4 * t * t * t\n          : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n      },\n      // accelerating from zero velocity\n      easeInQuart: function (t: number) {\n        return t * t * t * t;\n      },\n      // decelerating to zero velocity\n      easeOutQuart: function (t: number) {\n        /*jshint -W006 */\n        return 1 - --t * t * t * t;\n      },\n      // acceleration until halfway, then deceleration\n      easeInOutQuart: function (t: number) {\n        return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n      },\n      // accelerating from zero velocity\n      easeInQuint: function (t: number) {\n        return t * t * t * t * t;\n      },\n      // decelerating to zero velocity\n      easeOutQuint: function (t: number) {\n        return 1 + --t * t * t * t * t;\n      },\n      // acceleration until halfway, then deceleration\n      easeInOutQuint: function (t: number) {\n        return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n      },\n    };\n  }\n\n  public static Calculate(\n    scroll = 0,\n    scrollFrom = 0,\n    scrollTo = 0,\n    valueFrom = 0,\n    valueTo = 0,\n    easing = (t: number) => t\n  ) {\n    scroll = scroll < scrollFrom ? scrollFrom : scroll;\n    scroll = scroll > scrollTo ? scrollTo : scroll;\n\n    return (\n      valueFrom +\n      (valueTo - valueFrom) *\n        easing((scroll - scrollFrom) / (scrollTo - scrollFrom))\n    );\n  }\n\n  private static HexToNums(hex: string) {\n    let res;\n\n    if (hex.length === 4) {\n      let r = hex.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i);\n      res = r.slice(1, 4).map(function (x: any) {\n        return 0x11 * parseInt(x, 16);\n      });\n    } else if (hex.length === 5) {\n      let r = hex.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])$/i);\n      res = r.slice(1, 5).map(function (x: any) {\n        return 0x11 * parseInt(x, 16);\n      });\n    } else if (hex.length === 7) {\n      let r = hex.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);\n      res = r.slice(1, 4).map(function (x: any) {\n        return parseInt(x, 16);\n      });\n    } else if (hex.length === 9) {\n      let r = hex.match(\n        /^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i\n      );\n      res = r.slice(1, 5).map(function (x: any) {\n        return parseInt(x, 16);\n      });\n    }\n\n    res[3] = res[3] / 255 || 1;\n\n    return res;\n  }\n}\n"],"names":["ScrollimationWorker","run","instances","forEach","instance","mode","_handler","window","requestAnimationFrame","addInstance","const","handler","forcedRun","status","scrollTop","scrollContainer","Element","scrollLeft","animate","fpsLimit","Throttle","addEventListener","push","removeInstance","filter","_instance","id","state","let","scrollPosition","direction","from","startEmitted","start","step","reverseEnd","to","endEmitted","end","reverseStart","func","ms","savedArgs","savedThis","isThrottled","wrapper","arguments","this","apply","setTimeout","staticAccessors","pageYOffset","document","documentElement","body","pageXOffset","Scrollimation","config","Math","random","toString","substr","querySelector","init","target","NodeList","slice","call","querySelectorAll","easing","calc","valueFrom","valueTo","isHex","test","res","resFrom","HexToNums","resTo","val","i","Calculate","Easing","linear","stop","play","remove","removeEventListener","staticAccessors$1","t","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","scroll","scrollFrom","scrollTo","hex","length","match","map","x","parseInt"],"mappings":"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"}